## Ответы на контрольные вопросы и задания к главе №3 ##

1. Попробуйте ввести в таблицу aircrafts строку с таким значением атрибута «Код самолета» (aircraft_code), которое вы уже вводили, например:

```SQL
INSERT INTO aircrafts
VALUES ( 'SU9', 'Sukhoi SuperJet-100', 3000 );
```

Вы получите сообщение об ошибке.
```
ОШИБКА: повторяющееся значение ключа нарушает ограничение
уникальности "aircrafts_pkey"
ПОДРОБНОСТИ: Ключ "(aircraft_code)=(SU9)" уже существует.
```
Подумайте, почему появилось сообщение. Если вы забыли структуру таблицы
aircrafts, то можно вывести ее определение на экран с помощью команды
\d aircrafts.

---

>**Ответ:**
указанная операция не выполниться, так как атрибут `aircraft_code` в таблице `aircrafts`  является первичным ключем и по определению должен быть уникальным. Строка с индексом 'SU9' уже содержиться в таблице.

2. Самостоятельно напишите команду для выборки всех строк из таблицы aircrafts, чтобы строки были упорядочены по убыванию значения атрибута «Максимальная дальность полета, км» (range).

>**Ответ:** команда для выборки всех строк из таблицы `aircraft` с сортировкой по убыванию относительно атрибута range:
```SQL 
SELECT * 
FROM bookingaircrafts 
ORDER BY aircraft_code DESC;
```
**Результат:**

```
 aircraft_code |        model        | range 
---------------+---------------------+-------
 SU9           | Sukhoi SuperJet-100 |  3500
 CR2           | Bombardier CRJ-200  |  2700
 CN1           | Cessna 208 Caravan  |  1200
 773           | Boeing 777-300      | 11100
 763           | Boeing 767-300      |  7900
 733           | Boeing 737-300      |  4200
 321           | Airbus A321-200     |  5600
 320           | Airbus A320-200     |  5700
 319           | Airbus A319-100     |  6700
(9 rows)
```

3.  Самостоятельно напишите команду UPDATE полностью, при
этом не забудьте, что увеличить дальность полета нужно только у одной модели — Sukhoi SuperJet, поэтому необходимо использовать условие WHERE. Затем с помощью команды SELECT проверьте полученный результат.

> Ответ: команда для увеличения значения `range` в два раза у модели `Sukhoi SuperJet-100` следующая:
```SQL 
UPDATE aircrafts SET range = range * 2
WHERE model = 'Sukhoi SuperJet-100';

SELECT range 
FROM aircrafts 
WHERE model = 'Sukhoi SuperJet-100';
```

4. Самостоятельно смоделируйте описанную ситуацию, подобрав условие, которому гарантированно не соответствует ни одна строка в таблице «Самолеты» (aircrafts).

> **Ответ:** пример SQL запроса на данной БД который не удалит не одной строки в таблице:
```SQL 
DELETE FROM aircrafts WHERE range < 0;
```